name: Bike
description: Endpoints for bike operations
endpoints:
  - httpMethods: [ "POST" ]
    uri: v8/changeBikeName/{bikeId}
    metadata:
      title: Change Bike Name
      description: Change the name of a specific bike. Limited to 255 Characters.
      authenticated: true
    headers:
      Authorization: Bearer {YOUR_AUTH_TOKEN}
      Api-Key: fcb38d47-f14b-30cf-843b-26283f6a5819
      Content-Type: application/json
    urlParameters:
      bikeId:
        name: bikeId
        description: The bike ID
        type: integer
        required: true
    bodyParameters:
      name:
        name: name
        description: New name for the bike
        type: string
        required: true
    responses:
      - status: 200
        description: Success
        content: '{"result": true}'
      - status: 401
        description: Unauthorized
        content: '{"error":"AuthenticationException","message":"Invalid Credentials"}'
      - status: 422
        description: Unprocessable Entity
        content: '{"error":"Please provide your ''Api-Key'' header. You can obtain an API key from VanMoof. For more information see the documentation: http:\/\/api.vanmoof-api.com\/apidoc\/my\/pretty","message":"Please provide an API key"}'
  - httpMethods: [ "GET" ]
    uri: v8/getBikeSharingInvitations
    metadata:
      title: Get Bike Sharing Invitations
      description: Retrieve bike sharing invitations for the authenticated user. Hash is likely MD5.
      authenticated: true
    headers:
      Authorization: Bearer {YOUR_AUTH_TOKEN}
      Api-Key: fcb38d47-f14b-30cf-843b-26283f6a5819
    responses:
      - status: 200
        description: Success
        content: '{"invitations": [], "hash": "{MD5_HASH}"}'
      - status: 401
        description: Unauthorized
        content: '{"error":"AuthenticationException","message":"Invalid Credentials"}'
      - status: 422
        description: Unprocessable Entity
        content: '{"error":"Please provide your ''Api-Key'' header. You can obtain an API key from VanMoof. For more information see the documentation: http:\/\/api.vanmoof-api.com\/apidoc\/my\/pretty","message":"Please provide an API key"}'
  - httpMethods: [ "GET" ]
    uri: v8/getBikeSharingInvitationsForBike/{bikeId}
    metadata:
      title: Get Bike Sharing Invitations For Bike
      description: Retrieve bike sharing invitations for a specific bike.
      authenticated: true
    headers:
      Authorization: Bearer {YOUR_AUTH_TOKEN}
      Api-Key: fcb38d47-f14b-30cf-843b-26283f6a5819
    urlParameters:
      bikeId:
        name: bikeId
        description: The bike ID
        type: integer
        required: true
    responses:
      - status: 200
        description: Success
        content: '{"invitations": []}'
      - status: 401
        description: Unauthorized
        content: '{"error":"AuthenticationException","message":"Invalid Credentials"}'
      - status: 422
        description: Unprocessable Entity
        content: '{"error":"Please provide your ''Api-Key'' header. You can obtain an API key from VanMoof. For more information see the documentation: http:\/\/api.vanmoof-api.com\/apidoc\/my\/pretty","message":"Please provide an API key"}'

  - httpMethods: [ "GET" ]
    uri: v8/getBikeData/{bikeId}
    metadata:
      title: Get Bike Data
      description: Retrieve detailed data for a specific bike. Returns same structure as bikeDetails in getCustomerData. Hash is likely MD5.
      authenticated: true
    headers:
      Authorization: Bearer {YOUR_AUTH_TOKEN}
      Api-Key: fcb38d47-f14b-30cf-843b-26283f6a5819
    urlParameters:
      bikeId:
        name: bikeId
        description: The bike ID
        type: integer
        required: true
    responses:
      - status: 200
        description: Success (example from S5)
        content: '{"data": {"id": "{BikeID}", "name": "{Bike Name}", "frameNumber": "{Frame Number}", "bikeId": "{Bike ID}", "frameSerial": "{Frame Serial}", "ownerName": "{Owner Name}", "tripDistance": 0, "pendingSmartmoduleMacAddress": null, "macAddress": null, "mainEcuSerial": "{ECU Serial}", "smartmoduleCurrentVersion": null, "smartmoduleDesiredVersion": null, "smartmoduleLatestStable": false, "changeBackupCode": true, "isTracking": false, "highestAvailableSpeedLimit": null, "messageAvailable": false, "modelName": "{Model Name}", "modelDetails": null, "modelColor": {"name": "{Color Name}", "primary": "{Hex Color}", "secondary": "{Hex Color}"}, "frameShape": "{Shape}", "manufacturer": "{Manufacturer}", "controller": "{Controller}", "updateMethod": "OAD (encrypted)", "eLock": true, "gsmModule": "{GSM Module}", "speaker": true, "bleProfile": "{BLE Profile}", "bleVersion": null, "messagesViaBLE": "BLEv2", "customerRoleFamily": "Responsible", "customerRole": "owner", "startsAt": "{ISO8601 Date}", "endsAt": null, "permissions": ["ADD_USER", "FIRMWARE_UPDATES", "REMOVE_USER", "REPORT_FOUND", "REPORT_STOLEN", "SEND_STATISTICS", "BACKUP_CODE", "BIKE_NAME", "VIEW_THEFT_CASES", "ALARM_SETTINGS", "COUNTRY_SETTINGS", "LIGHTS", "MOTOR_SUPPORT_LEVEL", "UNLOCK", "READ_VALUES", "STOLEN_MODE", "SWAP_SMARTMODULE"], "key": null, "isFactoryKey": true, "customerCount": 1, "invitationCount": 0, "stolen": {"isStolen": false, "dateStolen": null, "status": "not_stolen", "latestLocation": null}, "hasPeaceOfMind": false, "peaceOfMind": null, "links": {"hash": "http://api.vanmoof-api.com/v8/getBikeDataHash/{BikeID}", "thumbnail": "https://my.vanmoof.com/image/model/{ModelID}"}, "serviceModeEnabled": false, "workshopInfo": []}, "hash": "{MD5_HASH}"}'
      - status: 400
        description: Bike Not Found
        content: '{"error": "BikeNotFoundException", "message": "Bike not found"}'
      - status: 401
        description: Invalid Credentials
        content: '{"error":"AuthenticationException","message":"Invalid Credentials"}'
      - status: 401
        description: Customer Not Authorized
        content: '{"error": "CustomerNotAuthorizedException", "message": "Customer not authorized for this action"}'
      - status: 422
        description: Unprocessable Entity
        content: '{"error":"Please provide your ''Api-Key'' header. You can obtain an API key from VanMoof. For more information see the documentation: http:\/\/api.vanmoof-api.com\/apidoc\/my\/pretty","message":"Please provide an API key"}'

  - httpMethods: [ "GET" ]
    uri: v8/getBikeMessages/{bikeId}
    metadata:
      title: Get Bike Messages
      description: Retrieve messages for a specific bike.
      authenticated: true
    headers:
      Authorization: Bearer {YOUR_AUTH_TOKEN}
      Api-Key: fcb38d47-f14b-30cf-843b-26283f6a5819
    urlParameters:
      bikeId:
        name: bikeId
        description: The bike ID
        type: integer
        required: true
    responses:
      - status: 200
        description: Success
        content: '[]'
      - status: 400
        description: Validation Failed
        content: '{"error":"ValidationException","message":"Validation failed","violations":{"bikeId":["You are not registered as customer of this bike."]}}'
      - status: 401
        description: Unauthorized
        content: '{"error":"AuthenticationException","message":"Invalid Credentials"}'
      - status: 422
        description: Unprocessable Entity
        content: '{"error":"Please provide your ''Api-Key'' header. You can obtain an API key from VanMoof. For more information see the documentation: http:\/\/api.vanmoof-api.com\/apidoc\/my\/pretty","message":"Please provide an API key"}'

  - httpMethods: [ "GET" ]
    uri: v8/getTheftCase/{frameNumber}
    metadata:
      title: Get Theft Case
      description: Retrieve theft case information for a specific bike by frame number.
      authenticated: true
    headers:
      Authorization: Bearer {YOUR_AUTH_TOKEN}
      Api-Key: fcb38d47-f14b-30cf-843b-26283f6a5819
    urlParameters:
      frameNumber:
        name: frameNumber
        description: The bike frame number
        type: string
        required: true
    responses:
      - status: 200
        description: Success #TODO: Example missing
        content: '{}'
      - status: 400
        description: Bike Not Stolen
        content: '{"error":"BikeNotStolenException","message":"Bike not stolen"}'
      - status: 401
        description: Unauthorized
        content: '{"error":"AuthenticationException","message":"Invalid Credentials"}'
      - status: 422
        description: Unprocessable Entity
        content: '{"error":"Please provide your ''Api-Key'' header. You can obtain an API key from VanMoof. For more information see the documentation: http:\/\/api.vanmoof-api.com\/apidoc\/my\/pretty","message":"Please provide an API key"}'
